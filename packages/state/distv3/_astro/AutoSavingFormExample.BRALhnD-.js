import{o as Nt,f as Ut,j as Qt,R as Lt,u as It,M as Bt}from"./index.BSHcnaqT.js";import{r as F}from"./index.SSXOyoI7.js";import{e as jt}from"./enableReactComponents.DERDCpxv.js";import{E as kt}from"./Editor.C2n4p8Q8.js";import{B as _t}from"./Box.RILDG8lM.js";function rt(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ht}=Object.prototype,{getPrototypeOf:Ce}=Object,ne=(t=>e=>{const r=Ht.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),N=t=>(t=t.toLowerCase(),e=>ne(e)===t),ie=t=>e=>typeof e===t,{isArray:j}=Array,K=ie("undefined");function Kt(t){return t!==null&&!K(t)&&t.constructor!==null&&!K(t.constructor)&&D(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const st=N("ArrayBuffer");function zt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&st(t.buffer),e}const Jt=ie("string"),D=ie("function"),nt=ie("number"),oe=t=>t!==null&&typeof t=="object",Vt=t=>t===!0||t===!1,W=t=>{if(ne(t)!=="object")return!1;const e=Ce(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gt=N("Date"),Wt=N("File"),Xt=N("Blob"),$t=N("FileList"),Zt=t=>oe(t)&&D(t.pipe),Yt=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||D(t.append)&&((e=ne(t))==="formdata"||e==="object"&&D(t.toString)&&t.toString()==="[object FormData]"))},er=N("URLSearchParams"),tr=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function J(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),j(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function it(t,e){e=e.toLowerCase();const r=Object.keys(t);let s=r.length,n;for(;s-- >0;)if(n=r[s],e===n.toLowerCase())return n;return null}const ot=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,at=t=>!K(t)&&t!==ot;function me(){const{caseless:t}=at(this)&&this||{},e={},r=(s,n)=>{const o=t&&it(e,n)||n;W(e[o])&&W(s)?e[o]=me(e[o],s):W(s)?e[o]=me({},s):j(s)?e[o]=s.slice():e[o]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&J(arguments[s],r);return e}const rr=(t,e,r,{allOwnKeys:s}={})=>(J(e,(n,o)=>{r&&D(n)?t[o]=rt(n,r):t[o]=n},{allOwnKeys:s}),t),sr=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nr=(t,e,r,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},ir=(t,e,r,s)=>{let n,o,i;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)i=n[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=r!==!1&&Ce(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},or=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const s=t.indexOf(e,r);return s!==-1&&s===r},ar=t=>{if(!t)return null;if(j(t))return t;let e=t.length;if(!nt(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},ur=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ce(Uint8Array)),lr=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=s.next())&&!n.done;){const o=n.value;e.call(t,o[0],o[1])}},cr=(t,e)=>{let r;const s=[];for(;(r=t.exec(e))!==null;)s.push(r);return s},hr=N("HTMLFormElement"),fr=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),Ne=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),dr=N("RegExp"),ut=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),s={};J(r,(n,o)=>{let i;(i=e(n,o,t))!==!1&&(s[o]=i||n)}),Object.defineProperties(t,s)},pr=t=>{ut(t,(e,r)=>{if(D(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=t[r];if(D(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yr=(t,e)=>{const r={},s=n=>{n.forEach(o=>{r[o]=!0})};return j(t)?s(t):s(String(t).split(e)),r},mr=()=>{},br=(t,e)=>(t=+t,Number.isFinite(t)?t:e),fe="abcdefghijklmnopqrstuvwxyz",Ue="0123456789",lt={DIGIT:Ue,ALPHA:fe,ALPHA_DIGIT:fe+fe.toUpperCase()+Ue},vr=(t=16,e=lt.ALPHA_DIGIT)=>{let r="";const{length:s}=e;for(;t--;)r+=e[Math.random()*s|0];return r};function Rr(t){return!!(t&&D(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const gr=t=>{const e=new Array(10),r=(s,n)=>{if(oe(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;const o=j(s)?[]:{};return J(s,(i,a)=>{const c=r(i,n+1);!K(c)&&(o[a]=c)}),e[n]=void 0,o}}return s};return r(t,0)},Or=N("AsyncFunction"),wr=t=>t&&(oe(t)||D(t))&&D(t.then)&&D(t.catch),l={isArray:j,isArrayBuffer:st,isBuffer:Kt,isFormData:Yt,isArrayBufferView:zt,isString:Jt,isNumber:nt,isBoolean:Vt,isObject:oe,isPlainObject:W,isUndefined:K,isDate:Gt,isFile:Wt,isBlob:Xt,isRegExp:dr,isFunction:D,isStream:Zt,isURLSearchParams:er,isTypedArray:ur,isFileList:$t,forEach:J,merge:me,extend:rr,trim:tr,stripBOM:sr,inherits:nr,toFlatObject:ir,kindOf:ne,kindOfTest:N,endsWith:or,toArray:ar,forEachEntry:lr,matchAll:cr,isHTMLForm:hr,hasOwnProperty:Ne,hasOwnProp:Ne,reduceDescriptors:ut,freezeMethods:pr,toObjectSet:yr,toCamelCase:fr,noop:mr,toFiniteNumber:br,findKey:it,global:ot,isContextDefined:at,ALPHABET:lt,generateString:vr,isSpecCompliantForm:Rr,toJSONObject:gr,isAsyncFn:Or,isThenable:wr};function g(t,e,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n)}l.inherits(g,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ct=g.prototype,ht={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ht[t]={value:t}});Object.defineProperties(g,ht);Object.defineProperty(ct,"isAxiosError",{value:!0});g.from=(t,e,r,s,n,o)=>{const i=Object.create(ct);return l.toFlatObject(t,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),g.call(i,t.message,e,r,s,n),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Er=null;function be(t){return l.isPlainObject(t)||l.isArray(t)}function ft(t){return l.endsWith(t,"[]")?t.slice(0,-2):t}function Qe(t,e,r){return t?t.concat(e).map(function(n,o){return n=ft(n),!r&&o?"["+n+"]":n}).join(r?".":""):e}function Sr(t){return l.isArray(t)&&!t.some(be)}const Cr=l.toFlatObject(l,{},null,function(e){return/^is[A-Z]/.test(e)});function ae(t,e,r){if(!l.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=l.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!l.isUndefined(b[y])});const s=r.metaTokens,n=r.visitor||u,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(e);if(!l.isFunction(n))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(l.isDate(f))return f.toISOString();if(!c&&l.isBlob(f))throw new g("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(f)||l.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function u(f,y,b){let R=f;if(f&&!b&&typeof f=="object"){if(l.endsWith(y,"{}"))y=s?y:y.slice(0,-2),f=JSON.stringify(f);else if(l.isArray(f)&&Sr(f)||(l.isFileList(f)||l.endsWith(y,"[]"))&&(R=l.toArray(f)))return y=ft(y),R.forEach(function(E,C){!(l.isUndefined(E)||E===null)&&e.append(i===!0?Qe([y],C,o):i===null?y:y+"[]",d(E))}),!1}return be(f)?!0:(e.append(Qe(b,y,o),d(f)),!1)}const h=[],m=Object.assign(Cr,{defaultVisitor:u,convertValue:d,isVisitable:be});function p(f,y){if(!l.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(f),l.forEach(f,function(R,S){(!(l.isUndefined(R)||R===null)&&n.call(e,R,l.isString(S)?S.trim():S,y,m))===!0&&p(R,y?y.concat(S):[S])}),h.pop()}}if(!l.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Le(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Pe(t,e){this._pairs=[],t&&ae(t,this,e)}const dt=Pe.prototype;dt.append=function(e,r){this._pairs.push([e,r])};dt.toString=function(e){const r=e?function(s){return e.call(this,s,Le)}:Le;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Pr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pt(t,e,r){if(!e)return t;const s=r&&r.encode||Pr,n=r&&r.serialize;let o;if(n?o=n(e,r):o=l.isURLSearchParams(e)?e.toString():new Pe(e,r).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ie{constructor(){this.handlers=[]}use(e,r,s){return this.handlers.push({fulfilled:e,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){l.forEach(this.handlers,function(s){s!==null&&e(s)})}}const yt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ar=typeof URLSearchParams<"u"?URLSearchParams:Pe,Fr=typeof FormData<"u"?FormData:null,xr=typeof Blob<"u"?Blob:null,Tr=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Dr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",M={isBrowser:!0,classes:{URLSearchParams:Ar,FormData:Fr,Blob:xr},isStandardBrowserEnv:Tr,isStandardBrowserWebWorkerEnv:Dr,protocols:["http","https","file","blob","url","data"]};function qr(t,e){return ae(t,new M.classes.URLSearchParams,Object.assign({visitor:function(r,s,n,o){return M.isNode&&l.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Mr(t){return l.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Nr(t){const e={},r=Object.keys(t);let s;const n=r.length;let o;for(s=0;s<n;s++)o=r[s],e[o]=t[o];return e}function mt(t){function e(r,s,n,o){let i=r[o++];const a=Number.isFinite(+i),c=o>=r.length;return i=!i&&l.isArray(n)?n.length:i,c?(l.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!a):((!n[i]||!l.isObject(n[i]))&&(n[i]=[]),e(r,s,n[i],o)&&l.isArray(n[i])&&(n[i]=Nr(n[i])),!a)}if(l.isFormData(t)&&l.isFunction(t.entries)){const r={};return l.forEachEntry(t,(s,n)=>{e(Mr(s),n,r,0)}),r}return null}function Ur(t,e,r){if(l.isString(t))try{return(e||JSON.parse)(t),l.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(t)}const Ae={transitional:yt,adapter:["xhr","http"],transformRequest:[function(e,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,o=l.isObject(e);if(o&&l.isHTMLForm(e)&&(e=new FormData(e)),l.isFormData(e))return n&&n?JSON.stringify(mt(e)):e;if(l.isArrayBuffer(e)||l.isBuffer(e)||l.isStream(e)||l.isFile(e)||l.isBlob(e))return e;if(l.isArrayBufferView(e))return e.buffer;if(l.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return qr(e,this.formSerializer).toString();if((a=l.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ae(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),Ur(e)):e}],transformResponse:[function(e){const r=this.transitional||Ae.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(e&&l.isString(e)&&(s&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?g.from(a,g.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M.classes.FormData,Blob:M.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],t=>{Ae.headers[t]={}});const Fe=Ae,Qr=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lr=t=>{const e={};let r,s,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||e[r]&&Qr[r])&&(r==="set-cookie"?e[r]?e[r].push(s):e[r]=[s]:e[r]=e[r]?e[r]+", "+s:s)}),e},Be=Symbol("internals");function H(t){return t&&String(t).trim().toLowerCase()}function X(t){return t===!1||t==null?t:l.isArray(t)?t.map(X):String(t)}function Ir(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(t);)e[s[1]]=s[2];return e}const Br=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function de(t,e,r,s,n){if(l.isFunction(s))return s.call(this,e,r);if(n&&(e=r),!!l.isString(e)){if(l.isString(s))return e.indexOf(s)!==-1;if(l.isRegExp(s))return s.test(e)}}function jr(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,s)=>r.toUpperCase()+s)}function kr(t,e){const r=l.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+r,{value:function(n,o,i){return this[s].call(this,e,n,o,i)},configurable:!0})})}class ue{constructor(e){e&&this.set(e)}set(e,r,s){const n=this;function o(a,c,d){const u=H(c);if(!u)throw new Error("header name must be a non-empty string");const h=l.findKey(n,u);(!h||n[h]===void 0||d===!0||d===void 0&&n[h]!==!1)&&(n[h||c]=X(a))}const i=(a,c)=>l.forEach(a,(d,u)=>o(d,u,c));return l.isPlainObject(e)||e instanceof this.constructor?i(e,r):l.isString(e)&&(e=e.trim())&&!Br(e)?i(Lr(e),r):e!=null&&o(r,e,s),this}get(e,r){if(e=H(e),e){const s=l.findKey(this,e);if(s){const n=this[s];if(!r)return n;if(r===!0)return Ir(n);if(l.isFunction(r))return r.call(this,n,s);if(l.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=H(e),e){const s=l.findKey(this,e);return!!(s&&this[s]!==void 0&&(!r||de(this,this[s],s,r)))}return!1}delete(e,r){const s=this;let n=!1;function o(i){if(i=H(i),i){const a=l.findKey(s,i);a&&(!r||de(s,s[a],a,r))&&(delete s[a],n=!0)}}return l.isArray(e)?e.forEach(o):o(e),n}clear(e){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const o=r[s];(!e||de(this,this[o],o,e,!0))&&(delete this[o],n=!0)}return n}normalize(e){const r=this,s={};return l.forEach(this,(n,o)=>{const i=l.findKey(s,o);if(i){r[i]=X(n),delete r[o];return}const a=e?jr(o):String(o).trim();a!==o&&delete r[o],r[a]=X(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return l.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=e&&l.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const s=new this(e);return r.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[Be]=this[Be]={accessors:{}}).accessors,n=this.prototype;function o(i){const a=H(i);s[a]||(kr(n,i),s[a]=!0)}return l.isArray(e)?e.forEach(o):o(e),this}}ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(ue.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[r]=s}}});l.freezeMethods(ue);const U=ue;function pe(t,e){const r=this||Fe,s=e||r,n=U.from(s.headers);let o=s.data;return l.forEach(t,function(a){o=a.call(r,o,n.normalize(),e?e.status:void 0)}),n.normalize(),o}function bt(t){return!!(t&&t.__CANCEL__)}function V(t,e,r){g.call(this,t??"canceled",g.ERR_CANCELED,e,r),this.name="CanceledError"}l.inherits(V,g,{__CANCEL__:!0});function _r(t,e,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?t(r):e(new g("Request failed with status code "+r.status,[g.ERR_BAD_REQUEST,g.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Hr=M.isStandardBrowserEnv?function(){return{write:function(r,s,n,o,i,a){const c=[];c.push(r+"="+encodeURIComponent(s)),l.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),l.isString(o)&&c.push("path="+o),l.isString(i)&&c.push("domain="+i),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Kr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zr(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function vt(t,e){return t&&!Kr(e)?zr(t,e):e}const Jr=M.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let s;function n(o){let i=o;return e&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=n(window.location.href),function(i){const a=l.isString(i)?n(i):i;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Vr(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Gr(t,e){t=t||10;const r=new Array(t),s=new Array(t);let n=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=s[o];i||(i=d),r[n]=c,s[n]=d;let h=o,m=0;for(;h!==n;)m+=r[h++],h=h%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),d-i<e)return;const p=u&&d-u;return p?Math.round(m*1e3/p):void 0}}function je(t,e){let r=0;const s=Gr(50,250);return n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,a=o-r,c=s(a),d=o<=i;r=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&d?(i-o)/c:void 0,event:n};u[e?"download":"upload"]=!0,t(u)}}const Wr=typeof XMLHttpRequest<"u",Xr=Wr&&function(t){return new Promise(function(r,s){let n=t.data;const o=U.from(t.headers).normalize(),i=t.responseType;let a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let d;l.isFormData(n)&&(M.isStandardBrowserEnv||M.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?l.isString(d=o.getContentType())&&o.setContentType(d.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+y))}const h=vt(t.baseURL,t.url);u.open(t.method.toUpperCase(),pt(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function m(){if(!u)return;const f=U.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),b={data:!i||i==="text"||i==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:f,config:t,request:u};_r(function(S){r(S),c()},function(S){s(S),c()},b),u=null}if("onloadend"in u?u.onloadend=m:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(m)},u.onabort=function(){u&&(s(new g("Request aborted",g.ECONNABORTED,t,u)),u=null)},u.onerror=function(){s(new g("Network Error",g.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||yt;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),s(new g(y,b.clarifyTimeoutError?g.ETIMEDOUT:g.ECONNABORTED,t,u)),u=null},M.isStandardBrowserEnv){const f=(t.withCredentials||Jr(h))&&t.xsrfCookieName&&Hr.read(t.xsrfCookieName);f&&o.set(t.xsrfHeaderName,f)}n===void 0&&o.setContentType(null),"setRequestHeader"in u&&l.forEach(o.toJSON(),function(y,b){u.setRequestHeader(b,y)}),l.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),i&&i!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",je(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",je(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{u&&(s(!f||f.type?new V(null,t,u):f),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const p=Vr(h);if(p&&M.protocols.indexOf(p)===-1){s(new g("Unsupported protocol "+p+":",g.ERR_BAD_REQUEST,t));return}u.send(n||null)})},ve={http:Er,xhr:Xr};l.forEach(ve,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ke=t=>`- ${t}`,$r=t=>l.isFunction(t)||t===null||t===!1,Rt={getAdapter:t=>{t=l.isArray(t)?t:[t];const{length:e}=t;let r,s;const n={};for(let o=0;o<e;o++){r=t[o];let i;if(s=r,!$r(r)&&(s=ve[(i=String(r)).toLowerCase()],s===void 0))throw new g(`Unknown adapter '${i}'`);if(s)break;n[i||"#"+o]=s}if(!s){const o=Object.entries(n).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(ke).join(`
`):" "+ke(o[0]):"as no adapter specified";throw new g("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:ve};function ye(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new V(null,t)}function _e(t){return ye(t),t.headers=U.from(t.headers),t.data=pe.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Rt.getAdapter(t.adapter||Fe.adapter)(t).then(function(s){return ye(t),s.data=pe.call(t,t.transformResponse,s),s.headers=U.from(s.headers),s},function(s){return bt(s)||(ye(t),s&&s.response&&(s.response.data=pe.call(t,t.transformResponse,s.response),s.response.headers=U.from(s.response.headers))),Promise.reject(s)})}const He=t=>t instanceof U?t.toJSON():t;function B(t,e){e=e||{};const r={};function s(d,u,h){return l.isPlainObject(d)&&l.isPlainObject(u)?l.merge.call({caseless:h},d,u):l.isPlainObject(u)?l.merge({},u):l.isArray(u)?u.slice():u}function n(d,u,h){if(l.isUndefined(u)){if(!l.isUndefined(d))return s(void 0,d,h)}else return s(d,u,h)}function o(d,u){if(!l.isUndefined(u))return s(void 0,u)}function i(d,u){if(l.isUndefined(u)){if(!l.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function a(d,u,h){if(h in e)return s(d,u);if(h in t)return s(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(d,u)=>n(He(d),He(u),!0)};return l.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||n,m=h(t[u],e[u],u);l.isUndefined(m)&&h!==a||(r[u]=m)}),r}const gt="1.5.1",xe={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xe[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ke={};xe.transitional=function(e,r,s){function n(o,i){return"[Axios v"+gt+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new g(n(i," has been removed"+(r?" in "+r:"")),g.ERR_DEPRECATED);return r&&!Ke[i]&&(Ke[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,a):!0}};function Zr(t,e,r){if(typeof t!="object")throw new g("options must be an object",g.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const o=s[n],i=e[o];if(i){const a=t[o],c=a===void 0||i(a,o,t);if(c!==!0)throw new g("option "+o+" must be "+c,g.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new g("Unknown option "+o,g.ERR_BAD_OPTION)}}const Re={assertOptions:Zr,validators:xe},Q=Re.validators;class Y{constructor(e){this.defaults=e,this.interceptors={request:new Ie,response:new Ie}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=B(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:o}=r;s!==void 0&&Re.assertOptions(s,{silentJSONParsing:Q.transitional(Q.boolean),forcedJSONParsing:Q.transitional(Q.boolean),clarifyTimeoutError:Q.transitional(Q.boolean)},!1),n!=null&&(l.isFunction(n)?r.paramsSerializer={serialize:n}:Re.assertOptions(n,{encode:Q.function,serialize:Q.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&l.merge(o.common,o[r.method]);o&&l.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=U.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,h=0,m;if(!c){const f=[_e.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,d),m=f.length,u=Promise.resolve(r);h<m;)u=u.then(f[h++],f[h++]);return u}m=a.length;let p=r;for(h=0;h<m;){const f=a[h++],y=a[h++];try{p=f(p)}catch(b){y.call(this,b);break}}try{u=_e.call(this,p)}catch(f){return Promise.reject(f)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=B(this.defaults,e);const r=vt(e.baseURL,e.url);return pt(r,e.params,e.paramsSerializer)}}l.forEach(["delete","get","head","options"],function(e){Y.prototype[e]=function(r,s){return this.request(B(s||{},{method:e,url:r,data:(s||{}).data}))}});l.forEach(["post","put","patch"],function(e){function r(s){return function(o,i,a){return this.request(B(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Y.prototype[e]=r(),Y.prototype[e+"Form"]=r(!0)});const $=Y;class Te{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(n);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new V(o,i,a),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Te(function(n){e=n}),cancel:e}}}const Yr=Te;function es(t){return function(r){return t.apply(null,r)}}function ts(t){return l.isObject(t)&&t.isAxiosError===!0}const ge={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ge).forEach(([t,e])=>{ge[e]=t});const rs=ge;function Ot(t){const e=new $(t),r=rt($.prototype.request,e);return l.extend(r,$.prototype,e,{allOwnKeys:!0}),l.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return Ot(B(t,n))},r}const A=Ot(Fe);A.Axios=$;A.CanceledError=V;A.CancelToken=Yr;A.isCancel=bt;A.VERSION=gt;A.toFormData=ae;A.AxiosError=g;A.Cancel=A.CanceledError;A.all=function(e){return Promise.all(e)};A.spread=es;A.isAxiosError=ts;A.mergeConfig=B;A.AxiosHeaders=U;A.formToJSON=t=>mt(l.isHTMLForm(t)?new FormData(t):t);A.getAdapter=Rt.getAdapter;A.HttpStatusCode=rs;A.default=A;const ss=A;class k{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const z=typeof window>"u"||"Deno"in window;function T(){}function ns(t,e){return typeof t=="function"?t(e):t}function Oe(t){return typeof t=="number"&&t>=0&&t!==1/0}function wt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function G(t,e,r){return le(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function L(t,e,r){return le(t)?[{...e,queryKey:t},r]:[t||{},e]}function ze(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:o,queryKey:i,stale:a}=t;if(le(i)){if(s){if(e.queryHash!==De(i,e.options))return!1}else if(!ee(e.queryKey,i))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof n<"u"&&n!==e.state.fetchStatus||o&&!o(e))}function Je(t,e){const{exact:r,fetching:s,predicate:n,mutationKey:o}=t;if(le(o)){if(!e.options.mutationKey)return!1;if(r){if(I(e.options.mutationKey)!==I(o))return!1}else if(!ee(e.options.mutationKey,o))return!1}return!(typeof s=="boolean"&&e.state.status==="loading"!==s||n&&!n(e))}function De(t,e){return(e?.queryKeyHashFn||I)(t)}function I(t){return JSON.stringify(t,(e,r)=>we(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function ee(t,e){return Et(t,e)}function Et(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Et(t[r],e[r])):!1}function St(t,e){if(t===e)return t;const r=Ve(t)&&Ve(e);if(r||we(t)&&we(e)){const s=r?t.length:Object.keys(t).length,n=r?e:Object.keys(e),o=n.length,i=r?[]:{};let a=0;for(let c=0;c<o;c++){const d=r?c:n[c];i[d]=St(t[d],e[d]),i[d]===t[d]&&a++}return s===o&&a===s?t:i}return e}function te(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Ve(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function we(t){if(!Ge(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Ge(r)||!r.hasOwnProperty("isPrototypeOf"))}function Ge(t){return Object.prototype.toString.call(t)==="[object Object]"}function le(t){return Array.isArray(t)}function Ct(t){return new Promise(e=>{setTimeout(e,t)})}function We(t){Ct(0).then(t)}function is(){if(typeof AbortController=="function")return new AbortController}function Ee(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?St(t,e):e}class os extends k{constructor(){super(),this.setup=e=>{if(!z&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const re=new os,Xe=["online","offline"];class as extends k{constructor(){super(),this.setup=e=>{if(!z&&window.addEventListener){const r=()=>e();return Xe.forEach(s=>{window.addEventListener(s,r,!1)}),()=>{Xe.forEach(s=>{window.removeEventListener(s,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setOnline(s):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const se=new as;function us(t){return Math.min(1e3*2**t,3e4)}function ce(t){return(t??"online")==="online"?se.isOnline():!0}class Pt{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function Z(t){return t instanceof Pt}function At(t){let e=!1,r=0,s=!1,n,o,i;const a=new Promise((b,R)=>{o=b,i=R}),c=b=>{s||(p(new Pt(b)),t.abort==null||t.abort())},d=()=>{e=!0},u=()=>{e=!1},h=()=>!re.isFocused()||t.networkMode!=="always"&&!se.isOnline(),m=b=>{s||(s=!0,t.onSuccess==null||t.onSuccess(b),n?.(),o(b))},p=b=>{s||(s=!0,t.onError==null||t.onError(b),n?.(),i(b))},f=()=>new Promise(b=>{n=R=>{const S=s||!h();return S&&b(R),S},t.onPause==null||t.onPause()}).then(()=>{n=void 0,s||t.onContinue==null||t.onContinue()}),y=()=>{if(s)return;let b;try{b=t.fn()}catch(R){b=Promise.reject(R)}Promise.resolve(b).then(m).catch(R=>{var S,E;if(s)return;const C=(S=t.retry)!=null?S:3,q=(E=t.retryDelay)!=null?E:us,w=typeof q=="function"?q(r,R):q,O=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,R);if(e||!O){p(R);return}r++,t.onFail==null||t.onFail(r,R),Ct(w).then(()=>{if(h())return f()}).then(()=>{e?p(R):y()})})};return ce(t.networkMode)?y():f().then(y),{promise:a,cancel:c,continue:()=>n?.()?a:Promise.resolve(),cancelRetry:d,continueRetry:u}}const qe=console;function ls(){let t=[],e=0,r=u=>{u()},s=u=>{u()};const n=u=>{let h;e++;try{h=u()}finally{e--,e||a()}return h},o=u=>{e?t.push(u):We(()=>{r(u)})},i=u=>(...h)=>{o(()=>{u(...h)})},a=()=>{const u=t;t=[],u.length&&We(()=>{s(()=>{u.forEach(h=>{r(h)})})})};return{batch:n,batchCalls:i,schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{s=u}}}const P=ls();class Ft{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oe(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(z?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class cs extends Ft{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||qe,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||hs(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const s=Ee(this.state.data,e,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const s=this.promise;return(r=this.retryer)==null||r.cancel(e),s?s.then(T).catch(T):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!wt(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var s,n;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const i=is(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};c(a);const d=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};if(c(u),(s=this.options.behavior)==null||s.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=u.fetchOptions)==null?void 0:n.meta)){var h;this.dispatch({type:"fetch",meta:(h=u.fetchOptions)==null?void 0:h.meta})}const m=p=>{if(Z(p)&&p.silent||this.dispatch({type:"error",error:p}),!Z(p)){var f,y,b,R;(f=(y=this.cache.config).onError)==null||f.call(y,p,this),(b=(R=this.cache.config).onSettled)==null||b.call(R,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=At({fn:u.fetchFn,abort:i?.abort.bind(i),onSuccess:p=>{var f,y,b,R;if(typeof p>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(f=(y=this.cache.config).onSuccess)==null||f.call(y,p,this),(b=(R=this.cache.config).onSettled)==null||b.call(R,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(p,f)=>{this.dispatch({type:"failed",failureCount:p,error:f})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=s=>{var n,o;switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(n=e.meta)!=null?n:null,fetchStatus:ce(this.options.networkMode)?"fetching":"paused",...!s.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(o=e.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Z(i)&&i.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),P.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function hs(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class fs extends k{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,s){var n;const o=r.queryKey,i=(n=r.queryHash)!=null?n:De(o,r);let a=this.get(i);return a||(a=new cs({cache:this,logger:e.getLogger(),queryKey:o,queryHash:i,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(s=>s!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){P.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[s]=L(e,r);return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(n=>ze(s,n))}findAll(e,r){const[s]=L(e,r);return Object.keys(s).length>0?this.queries.filter(n=>ze(s,n)):this.queries}notify(e){P.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){P.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){P.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class ds extends Ft{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||qe,this.observers=[],this.state=e.state||xt(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var O;return this.retryer=At({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(v,x)=>{this.dispatch({type:"failed",failureCount:v,error:x})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(O=this.options.retry)!=null?O:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var s,n,o,i,a,c,d,u;if(!r){var h,m,p,f;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(m=this.mutationCache.config).onMutate)==null?void 0:h.call(m,this.state.variables,this));const v=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,this.state.variables));v!==this.state.context&&this.dispatch({type:"loading",context:v,variables:this.state.variables})}const O=await e();return await((s=(n=this.mutationCache.config).onSuccess)==null?void 0:s.call(n,O,this.state.variables,this.state.context,this)),await((o=(i=this.options).onSuccess)==null?void 0:o.call(i,O,this.state.variables,this.state.context)),await((a=(c=this.mutationCache.config).onSettled)==null?void 0:a.call(c,O,null,this.state.variables,this.state.context,this)),await((d=(u=this.options).onSettled)==null?void 0:d.call(u,O,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:O}),O}catch(O){try{var y,b,R,S,E,C,q,w;throw await((y=(b=this.mutationCache.config).onError)==null?void 0:y.call(b,O,this.state.variables,this.state.context,this)),await((R=(S=this.options).onError)==null?void 0:R.call(S,O,this.state.variables,this.state.context)),await((E=(C=this.mutationCache.config).onSettled)==null?void 0:E.call(C,void 0,O,this.state.variables,this.state.context,this)),await((q=(w=this.options).onSettled)==null?void 0:q.call(w,void 0,O,this.state.variables,this.state.context)),O}finally{this.dispatch({type:"error",error:O})}}}dispatch(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"loading":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ce(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...s,...e.state}}};this.state=r(this.state),P.batch(()=>{this.observers.forEach(s=>{s.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function xt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class ps extends k{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,s){const n=new ds({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:s,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){P.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>Je(e,r))}findAll(e){return this.mutations.filter(r=>Je(e,r))}notify(e){P.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(s=>s.state.isPaused);return P.batch(()=>r.reduce((s,n)=>s.then(()=>n.continue().catch(T)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ys(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,s,n,o,i;const a=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,c=(s=t.fetchOptions)==null||(n=s.meta)==null?void 0:n.fetchMore,d=c?.pageParam,u=c?.direction==="forward",h=c?.direction==="backward",m=((o=t.state.data)==null?void 0:o.pages)||[],p=((i=t.state.data)==null?void 0:i.pageParams)||[];let f=p,y=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>{var O;if((O=t.signal)!=null&&O.aborted)y=!0;else{var v;(v=t.signal)==null||v.addEventListener("abort",()=>{y=!0})}return t.signal}})},R=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),S=(w,O,v,x)=>(f=x?[O,...f]:[...f,O],x?[v,...w]:[...w,v]),E=(w,O,v,x)=>{if(y)return Promise.reject("Cancelled");if(typeof v>"u"&&!O&&w.length)return Promise.resolve(w);const _={queryKey:t.queryKey,pageParam:v,meta:t.options.meta};b(_);const he=R(_);return Promise.resolve(he).then(Mt=>S(w,v,Mt,x))};let C;if(!m.length)C=E([]);else if(u){const w=typeof d<"u",O=w?d:$e(t.options,m);C=E(m,w,O)}else if(h){const w=typeof d<"u",O=w?d:ms(t.options,m);C=E(m,w,O,!0)}else{f=[];const w=typeof t.options.getNextPageParam>"u";C=(a&&m[0]?a(m[0],0,m):!0)?E([],w,p[0]):Promise.resolve(S([],p[0],m[0]));for(let v=1;v<m.length;v++)C=C.then(x=>{if(a&&m[v]?a(m[v],v,m):!0){const he=w?p[v]:$e(t.options,x);return E(x,w,he)}return Promise.resolve(S(x,p[v],m[v]))})}return C.then(w=>({pages:w,pageParams:f}))}}}}function $e(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function ms(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class bs{constructor(e={}){this.queryCache=e.queryCache||new fs,this.mutationCache=e.mutationCache||new ps,this.logger=e.logger||qe,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=re.subscribe(()=>{re.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=se.subscribe(()=>{se.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[s]=L(e,r);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var s;return(s=this.queryCache.find(e,r))==null?void 0:s.state.data}ensureQueryData(e,r,s){const n=G(e,r,s),o=this.getQueryData(n.queryKey);return o?Promise.resolve(o):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:s})=>{const n=s.data;return[r,n]})}setQueryData(e,r,s){const n=this.queryCache.find(e),o=n?.state.data,i=ns(r,o);if(typeof i>"u")return;const a=G(e),c=this.defaultQueryOptions(a);return this.queryCache.build(this,c).setData(i,{...s,manual:!0})}setQueriesData(e,r,s){return P.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,r,s)]))}getQueryState(e,r){var s;return(s=this.queryCache.find(e,r))==null?void 0:s.state}removeQueries(e,r){const[s]=L(e,r),n=this.queryCache;P.batch(()=>{n.findAll(s).forEach(o=>{n.remove(o)})})}resetQueries(e,r,s){const[n,o]=L(e,r,s),i=this.queryCache,a={type:"active",...n};return P.batch(()=>(i.findAll(n).forEach(c=>{c.reset()}),this.refetchQueries(a,o)))}cancelQueries(e,r,s){const[n,o={}]=L(e,r,s);typeof o.revert>"u"&&(o.revert=!0);const i=P.batch(()=>this.queryCache.findAll(n).map(a=>a.cancel(o)));return Promise.all(i).then(T).catch(T)}invalidateQueries(e,r,s){const[n,o]=L(e,r,s);return P.batch(()=>{var i,a;if(this.queryCache.findAll(n).forEach(d=>{d.invalidate()}),n.refetchType==="none")return Promise.resolve();const c={...n,type:(i=(a=n.refetchType)!=null?a:n.type)!=null?i:"active"};return this.refetchQueries(c,o)})}refetchQueries(e,r,s){const[n,o]=L(e,r,s),i=P.batch(()=>this.queryCache.findAll(n).filter(c=>!c.isDisabled()).map(c=>{var d;return c.fetch(void 0,{...o,cancelRefetch:(d=o?.cancelRefetch)!=null?d:!0,meta:{refetchPage:n.refetchPage}})}));let a=Promise.all(i).then(T);return o!=null&&o.throwOnError||(a=a.catch(T)),a}fetchQuery(e,r,s){const n=G(e,r,s),o=this.defaultQueryOptions(n);typeof o.retry>"u"&&(o.retry=!1);const i=this.queryCache.build(this,o);return i.isStaleByTime(o.staleTime)?i.fetch(o):Promise.resolve(i.state.data)}prefetchQuery(e,r,s){return this.fetchQuery(e,r,s).then(T).catch(T)}fetchInfiniteQuery(e,r,s){const n=G(e,r,s);return n.behavior=ys(),this.fetchQuery(n)}prefetchInfiniteQuery(e,r,s){return this.fetchInfiniteQuery(e,r,s).then(T).catch(T)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const s=this.queryDefaults.find(n=>I(e)===I(n.queryKey));s?s.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(s=>ee(e,s.queryKey));return r?.defaultOptions}setMutationDefaults(e,r){const s=this.mutationDefaults.find(n=>I(e)===I(n.mutationKey));s?s.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(s=>ee(e,s.mutationKey));return r?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=De(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class vs extends k{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Ze(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Se(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Se(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const s=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),te(s,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const o=this.hasListeners();o&&Ye(this.currentQuery,n,this.options,s)&&this.executeFetch(),this.updateResult(r),o&&(this.currentQuery!==n||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const i=this.computeRefetchInterval();o&&(this.currentQuery!==n||this.options.enabled!==s.enabled||i!==this.currentRefetchInterval)&&this.updateRefetchInterval(i)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),s=this.createResult(r,e);return gs(this,s,e)&&(this.currentResult=s,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),s}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(s),e[s])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),s=this.client.getQueryCache().build(this.client,r);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(T)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),z||this.currentResult.isStale||!Oe(this.options.staleTime))return;const r=wt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(z||this.options.enabled===!1||!Oe(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||re.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const s=this.currentQuery,n=this.options,o=this.currentResult,i=this.currentResultState,a=this.currentResultOptions,c=e!==s,d=c?e.state:this.currentQueryInitialState,u=c?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:m,error:p,errorUpdatedAt:f,fetchStatus:y,status:b}=h,R=!1,S=!1,E;if(r._optimisticResults){const v=this.hasListeners(),x=!v&&Ze(e,r),_=v&&Ye(e,s,r,n);(x||_)&&(y=ce(e.options.networkMode)?"fetching":"paused",m||(b="loading")),r._optimisticResults==="isRestoring"&&(y="idle")}if(r.keepPreviousData&&!h.dataUpdatedAt&&u!=null&&u.isSuccess&&b!=="error")E=u.data,m=u.dataUpdatedAt,b=u.status,R=!0;else if(r.select&&typeof h.data<"u")if(o&&h.data===i?.data&&r.select===this.selectFn)E=this.selectResult;else try{this.selectFn=r.select,E=r.select(h.data),E=Ee(o?.data,E,r),this.selectResult=E,this.selectError=null}catch(v){this.selectError=v}else E=h.data;if(typeof r.placeholderData<"u"&&typeof E>"u"&&b==="loading"){let v;if(o!=null&&o.isPlaceholderData&&r.placeholderData===a?.placeholderData)v=o.data;else if(v=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof v<"u")try{v=r.select(v),this.selectError=null}catch(x){this.selectError=x}typeof v<"u"&&(b="success",E=Ee(o?.data,v,r),S=!0)}this.selectError&&(p=this.selectError,E=this.selectResult,f=Date.now(),b="error");const C=y==="fetching",q=b==="loading",w=b==="error";return{status:b,fetchStatus:y,isLoading:q,isSuccess:b==="success",isError:w,isInitialLoading:q&&C,data:E,dataUpdatedAt:m,error:p,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:C,isRefetching:C&&!q,isLoadingError:w&&h.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:S,isPreviousData:R,isRefetchError:w&&h.dataUpdatedAt!==0,isStale:Me(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,s=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,te(s,r))return;this.currentResult=s;const n={cache:!0},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.trackedProps.size)return!0;const c=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(d=>{const u=d;return this.currentResult[u]!==r[u]&&c.has(u)})};e?.listeners!==!1&&o()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!Z(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){P.batch(()=>{if(e.onSuccess){var r,s,n,o;(r=(s=this.options).onSuccess)==null||r.call(s,this.currentResult.data),(n=(o=this.options).onSettled)==null||n.call(o,this.currentResult.data,null)}else if(e.onError){var i,a,c,d;(i=(a=this.options).onError)==null||i.call(a,this.currentResult.error),(c=(d=this.options).onSettled)==null||c.call(d,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Rs(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ze(t,e){return Rs(t,e)||t.state.dataUpdatedAt>0&&Se(t,e,e.refetchOnMount)}function Se(t,e,r){if(e.enabled!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Me(t,e)}return!1}function Ye(t,e,r,s){return r.enabled!==!1&&(t!==e||s.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Me(t,r)}function Me(t,e){return t.isStaleByTime(e.staleTime)}function gs(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!te(t.getCurrentResult(),e)}class Os extends k{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const s=this.options;this.options=this.client.defaultMutationOptions(e),te(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:xt(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){P.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,s,n,o;(r=(s=this.mutateOptions).onSuccess)==null||r.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(o=this.mutateOptions).onSettled)==null||n.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var i,a,c,d;(i=(a=this.mutateOptions).onError)==null||i.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(c=(d=this.mutateOptions).onSettled)==null||c.call(d,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:u})=>{u(this.currentResult)})})}}const et=F.createContext(void 0),Tt=F.createContext(!1);function Dt(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=et),window.ReactQueryClientContext):et)}const ws=({context:t}={})=>{const e=F.useContext(Dt(t,F.useContext(Tt)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Es=({client:t,children:e,context:r,contextSharing:s=!1})=>{F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const n=Dt(r,s);return F.createElement(Tt.Provider,{value:!r&&s},F.createElement(n.Provider,{value:t},e))},qt=F.createContext(!1),Ss=()=>F.useContext(qt);qt.Provider;function Cs(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Ps=F.createContext(Cs()),As=()=>F.useContext(Ps),Fs=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},xs=t=>{F.useEffect(()=>{t.clearReset()},[t])};function Ts(t,e){return typeof t=="function"?t(...e):!!t}const Ds=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&Ts(r,[t.error,s]);function qs(t,e){const r=vs,s=t?.queryClient||ws({context:t.context}),n=Ss(),o=As(),i=s.defaultQueryOptions(t);i._optimisticResults=n?"isRestoring":"optimistic",i.onError&&(i.onError=P.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=P.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=P.batchCalls(i.onSettled)),i.suspense&&typeof i.staleTime!="number"&&(i.staleTime=1e3),Fs(i,o),xs(o);const[a]=F.useState(()=>new r(s,i)),c=a.getOptimisticResult(i);if(F.useEffect(()=>{a.setOptions(i,{listeners:!1})},[i,a]),i.suspense&&c.isLoading&&c.isFetching&&!n)throw a.fetchOptimistic(i).then(({data:h})=>{var m,p;(m=i.onSuccess)===null||m===void 0||m.call(i,h),(p=i.onSettled)===null||p===void 0||p.call(i,h,null)}).catch(h=>{var m,p;o.clearReset(),(m=i.onError)===null||m===void 0||m.call(i,h),(p=i.onSettled)===null||p===void 0||p.call(i,void 0,h)});if(Ds({result:c,errorResetBoundary:o,useErrorBoundary:i.useErrorBoundary,query:a.getCurrentQuery()}))throw c.error;let d;e&&([d]=F.useState(()=>new Os(s,e)));const[u]=F.useState(()=>{const h=Nt(a.getCurrentResult());let m=!1;return e&&Ut(()=>{const p=h.data.get();p&&!m&&d.mutate(p)}),a.subscribe(p=>{m=!0;try{h.set(p)}finally{m=!1}}),h});return u}let tt;function Ms(t,e){clearTimeout(tt),tt=setTimeout(t,e)}const Ns=`
import axios from "axios"
import { useRef } from "react"
import { QueryClient, QueryClientProvider } from "@tanstack/react-query"
import { useObservable, Reactive, Memo } from "@legendapp/state/react"
import { enableReactComponents } from "@legendapp/state/config/enableReactComponents"

enableReactComponents()

const queryClient = new QueryClient()

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const renderCount = ++useRef(0).current
  const { data } = useObservableQuery({
      queryKey: ["data"],
      queryFn: () =>
        axios.get("https://reqres.in/api/users/1")
          .then((res) => res.data.data),
    },
    {
      mutationFn: (newData) => {
        // Uncomment to actually save
        /*
        debounce(() => {
          axios
            .post("https://reqres.in/api/users/1", newData)
            .then((res) =>
              lastSaved.set(Date.now())
            )
        }, 1000)
        */
        lastSaved.set(Date.now())
      }
    }
  )
  const lastSaved$ = useObservable(0)

  return (
    <Box>
      <div>
        Renders: {renderCount}
      </div>
      <div>Name:</div>
      <Reactive.input
        className="input"
        $value={data.first_name}
      />
      <div>Email:</div>
      <Reactive.input
        className="input"
        $value={data.email}
      />
      <div>
        Last saved: <Memo>{lastSaved$}</Memo>
      </div>
    </Box>
  )
}
`;function ks(){return Qt.jsx(kt,{code:Ns,scope:{useRef:F.useRef,enableReactComponents:jt,Reactive:Lt,QueryClient:bs,QueryClientProvider:Es,useObservableQuery:qs,useObservable:It,Memo:Bt,axios:ss,Box:_t,debounce:Ms},noInline:!0,renderCode:";render(<App />)",transformCode:t=>t.replace(/className="input"/g,'className="bg-gray-900 text-white border rounded border-gray-600 px-2 py-1 mt-2 mb-6"')})}export{ks as AutoSavingFormComponent};
